var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Widgetic=e()}(this,function(){"use strict";var o,t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}(o=function(t){var e,n,i,r;for(n=(i=o.options).parser[i.strictMode?"strict":"loose"].exec(t),r={},e=14;e--;)r[i.key[e]]=n[e]||"";return r[i.q.name]={},r[i.key[12]].replace(i.q.parser,function(t,e,n){if(e)return r[i.q.name][e]=n}),r[i.h.name]={},r[i.key[13]].replace(i.h.parser,function(t,e,n){if(e)return r[i.h.name][e]=n}),r}).options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","hash"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},h:{name:"hashKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var n,i,r,s,a,u,c,l,d,p,h,f,m=o;(f=window.location).origin||(f.origin=f.protocol+"//"+f.hostname+(f.port?":"+f.port:"")),a=m,n=(null!=(l=window.widgeticOptions)?l.domain:void 0)||"widgetic.com",i=(null!=(d=window.widgeticOptions)?d.domainProtocol:void 0)||"https",s="?lo="+encodeURIComponent(f.origin);var y,g,v={proxy:(c=!1===(null!=(p=window.widgeticOptions)?p.secure:void 0)?"http":"https")+"://"+(r=(u=a(n)).host+(u.port?":"+u.port:""))+"/sdk/proxy.html"+s+"#proxy",popup:c+"://"+r+"/sdk/proxy.html"+s+"#popup",auth:c+"://"+n+"/oauth/v2/auth",composition:c+"://"+n+"/api/v2/compositions/{id}/embed.html"+s,widget:c+"://"+n+"/api/v2/widgets/{id}/embed.html"+s,editor:c+"://"+n+"/api/v2/editor.html"+s,plugin:c+"://"+r+"/plugin"+s,api:"/api/v2/",domain:i+"://"+r,lo:decodeURIComponent(a(f).queryKey.lo||f.origin),crossdomain:(null!=(h=window.widgeticOptions)?h.crossdomain:void 0)||!0};y="addEventListener",g="removeEventListener";var w,_,b={on:function(t,e,n,i){return null==i&&(i=!1),t[y]?t[y](e,n,i):t.attachEvent("on"+e,n)},off:function(t,e,n,i){return null==i&&(i=!1),t[g]?t[g](e,n,i):t.detachEvent("on"+e,n)}},k=e(function(t,e){t.exports=function(t,e,n){e=e||"";var i=(n=n||{}).complete||function(){},r=n.success||function(){},o=n.error||function(){},s=n.headers||{},a=n.method||"GET",u=n.sync||!1,c=0===t.indexOf("http")&&"undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest;if(!c)throw new Error("Browser doesn't support XHR");if("string"!=typeof e){var l=[];for(var d in e)l.push(d+"="+e[d]);e=l.join("&")}for(var p in"ontimeout"in c&&(c.ontimeout=+n.timeout||0),c.onload=function(){i(c.responseText,c.status),r(c.responseText)},c.onerror=function(){i(c.responseText),o(c.responseText,c.status)},c.open(a,"GET"===a&&e?t+"?"+e:t,!u),s)c.setRequestHeader(p,s[p]);return c.send("GET"!==a?e:null),c}});_=k,w=v;var E=function(t){var e,n,i,r,o,s;if(t.id&&(e=t.a))return s=e.u,o=e.m,n=e.d,r={id:t.id,t:"e",a:{}},i={"Content-type":"application/json"},"PUT"!==(o=o.toUpperCase())&&"DELETE"!==o||(i["X-HTTP-Method-Override"]=o,o="POST"),_(s,n,{method:o,headers:i,complete:function(t,e){return r.a.t=200===e||201===e||202===e||204===e?"t":"f",r.a.d=t,r=JSON.stringify(r),w.crossdomain?window.parent.postMessage(r,"*"):window.widgeticReceiver({origin:window.location.origin,data:r})}})},x=[].slice,S={};function O(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function T(e){if(!e._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,r=n[i];n[i]=A(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||S)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])C(e,t);else if(!e._data)throw t}}function A(n,i){return function(t,e){n._tasks[i]&&(--n._active,++n._ended,(n._tasks[i]=null)==n._error&&(null!=t?C(n,t):(n._data[i]=e,n._waiting?T(n):M(n))))}}function C(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;0<=--i;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,M(t)}function M(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function q(t){if(null==t)t=1/0;else if(!(1<=(t=+t)))throw new Error("invalid concurrency");return new O(t)}O.prototype=q.prototype={constructor:O,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=x.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),T(this),this},abort:function(){return null==this._error&&C(this,new Error("abort")),this},await:function(n){if("function"!=typeof n)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,e){n.apply(null,[t].concat(e))},M(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,M(this),this}};var I,W,N,P=Object.freeze({queue:q}),R=P;W=R.queue(1),N={},I=function(t){return N.init=t},W.defer(I),W.steps=N;var j,z,U,H,L=W,D=function(){var t;return(t=function(t){var e;return e=(Math.random().toString(16)+"000000000").substr(2,8),t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e})()+t(!0)+t(!0)+t()},J=e(function(t,e){var n;n=function(){var t={},u=function(){var e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},c=function(r,o){var s=t.defer(),a=function(e,n){setTimeout(function(){var t;try{t=e(n)}catch(t){return void s.reject(t)}t===s.promise?s.reject(new TypeError("Cannot resolve promise with itself")):s.resolve(t)},1)};return{promise:s.promise,handle:function(t,e){var n,i;t===l?(i=e,r&&r.call?a(r,i):s.resolve(i)):(n=e,o&&o.call?a(o,n):s.reject(n))}}},l=1;return t.defer=function(){var i,r=0,o=[],n=function(t,e){r=t,i=e,o.forEach(function(t){t.handle(r,i)}),o=null},s=function(t){n(2,t)},e=function(t,e){var n=c(t,e);return 0===r?o.push(n):n.handle(r,i),n.promise},a=function(t){var e;try{e=function(t){var e=t&&t.then;if("object"==typeof t&&"function"==typeof e)return function(){return e.apply(t,arguments)}}(t)}catch(t){return void s(t)}e?function(t){var e=u();try{t(e(a),e(s))}catch(t){e(s)(t)}}(e):n(l,t)},t=u();return{resolve:t(a),reject:t(s),promise:{then:e,fail:function(t){return e(null,t)}}}},t},t.exports=n()}),B=e(function(e){!function(a){function t(){var o={},s=Function;return{publish:function(){var t,e,n,i=arguments,r=o[i[0]];r&&(t=r.length,e=1<i.length?Array.prototype.splice.call(i,1):[],setTimeout(function(){for(n=0;n<t;n+=1)r[n].apply(a,e);r=a=e=null},0))},subscribe:function(t,e){if("string"!=typeof t)throw"invalid or missing channel";if(!(e instanceof s))throw"invalid or missing callback";return o[t]||(o[t]=[]),o[t].push(e),{channel:t,callback:e}},unsubscribe:function(t,e){if(t.channel&&t.callback&&(e=t.callback,t=t.channel),"string"!=typeof t)throw"invalid or missing channel";if(!(e instanceof s))throw"invalid or missing callback";var n,i=o[t],r=i instanceof Array?i.length:0;for(n=0;n<r;n+=1)if(i[n]===e){i.splice(n,1);break}}}}e.exports?e.exports=t():a.PubSub=t()}(t)});j=D,H=window,z={},U=function(t,e){return"location=no,menubar=no,toolbar=no,scrollbars=no,status=no,resizable=no,width="+t+",height="+e+",left="+(screen.width-t)/2+",top="+(screen.height-e)/2};var V,G,Q=function(t,e){var n,i,r,o;return i=e.promise,null!=(r=z.win)&&r.close(),z.win=o=H.open(t,"widgetic_popup_"+j(),U(500,496)),n=setInterval(function(){if(!o||o.closed)return clearInterval(n),e.reject("window closed")},50),i.then(function(){return o.close()}),i};G={},(V=function(t,e){var n,i,r,o;return r=e.promise,V=document.createElement("iframe"),(i=G.root.el).appendChild(V),n=function(){return i.removeChild(V),clearTimeout(o)},o=setTimeout(function(){return e.reject("Timeout error")},1e4),r.then(n,n),V.setAttribute("src",t),r}).setRoot=function(t){return G.root=t};var K,$,X,F,Y,Z,tt,et,nt,it,rt,ot=V;Y=v,it=Q,tt=ot,F=J,$={},nt={},et=[],rt=function(t,e){return null==t&&(t=[]),null==e&&(e="oauth"),Y.auth+"?client_id="+$.id+"&redirect_uri="+$.uri+"&response_type=token&scope="+t.join(" ")+"#"+e},K=function(t,e){var n;return null==t&&(t=!0),n=F.defer(),e&&(et=e),{oa:t?it:tt,scope:e=et,deffered:nt.deffered=n}},Z=function(t,e,n){return $.id&&$.uri?t(e,n):(n.reject("Widgetic must be initialized with client id and redirect uri!"),n.promise)},(X=function(){var t,e,n,i;return e=(n=K.apply(null,arguments)).oa,i=n.scope,t=n.deffered,Z(e,rt(i),t)}).register=function(t){var e,n,i;return n=(i=K(!0,t)).oa,t=i.scope,e=i.deffered,Z(n,rt(t,"signup"),e)},X.setAuthOptions=function(t,e,n){return $.id=t,$.uri=e},X.getClientId=function(){return $.id},X.retry=function(t){return X.apply(this,t.d)},X.connect=function(t){var e,n;return e=Ot,(n=t.d)&&n.access_token?(e.setTokens(n),nt.deffered.resolve(e.getStatus()),setTimeout(X.bind(this,!1),1e3*n.expires_in-1500)):nt.deffered.reject(e.getStatus())};var st,at,ut,ct,lt,dt,pt,ht,ft,mt,yt,gt,vt,wt=X;ut=v,mt=E,ft=L,lt=D,at=J,ht=B,ct={},dt={},gt=vt=null,pt=function(t,e,n,i){var r,o;return t=ut.api+t,r=(null!=(o=dt.tokens)?o.access_token:void 0)||!1,(e||(e="GET"))instanceof Object&&(n=e,e="GET"),"GET"!==e?t+=r?"?access_token="+r:"":(n||(n={}),r&&(n.access_token=r)),JSON.stringify({t:"a",id:i,a:{u:t,m:e,d:n}})},(st=function(t,e,n){var i,r,o,s,a;return o=lt(),a=(ct[o]=r=at.defer()).promise,s=pt.apply(this,r.margs=[t,e,n,o]),i=function(){return ct[o]=null},a.then(i,i),dt.proxy(s),a}).response=function(t){var e,n,i,r,o,s;if(i=ct[t.id],""!==(n=(e=t.a).d))try{n=JSON.parse(n)}catch(t){return void i.reject(new Error("JSON Parse error!"))}return"t"===e.t?i.resolve(n):dt.tokens&&n.error&&("invalid_grant"===(s=n.error)||"access_denied"===s)?(o=function(){return vt=null,dt.proxy(pt.apply(this,i.margs))},yt().then(o,function(){return vt=null,i.reject(new Error("Unable to login again!"))})):((r=new Error(n.error_description||n.message||"Unknown Error")).errors=n.errors,r.code=n.code,i.reject(r))},yt=function(){var t,e,n;return null!=(t=wt).getClientId()?t(!1):(n=(vt=at.defer()).promise,e=JSON.stringify({t:"r",d:[!1]}),window.parent.postMessage(e,ut.lo),gt=setTimeout(vt.reject,3e3),n)},st.setProxy=function(t){return dt.proxy=t},st.setTokens=function(t){return dt.tokens=t,ht.publish("api/token/update")},st.getStatus=function(){var t;return(null!=(t=dt.tokens)?t.access_token:void 0)?{status:"connected",accessToken:dt.tokens.access_token,refreshToken:dt.tokens.refresh_token,expiresIn:dt.tokens.expires_in,scope:dt.tokens.scope}:{status:"disconnected"}},st.accessToken=function(t){var e;return t&&(clearTimeout(gt),null!=vt&&vt.resolve(t),st.setTokens({access_token:t,refresh_token:void 0,expires_in:void 0,scope:void 0})),null!=(e=dt.tokens)?e.access_token:void 0},st.disconnect=function(){return ht.publish("api/token/update"),dt.tokens=null},st.queue=ft,st.request=mt;var _t,bt,kt,Et,xt,St,Ot=st;kt=v,Et=ot,St=(bt=Ot).queue.steps,_t=function(){return document.getElementsByTagName("body")[0].appendChild(this.el=document.createElement("div")),this.el.id="widgetic-root",Et.setRoot(this),this},xt=J.defer(),_t.prototype.createProxy=function(){var e,t;return St.init&&(kt.crossdomain?(e=document.createElement("iframe"),this.el.appendChild(e),t=setTimeout(function(){return _t._done=null,clearTimeout(t),xt.reject(new Error("Could not initialize cross-domain messaging iframe"))},1e4),_t._done=function(){return bt.setProxy(function(t){return e.contentWindow.postMessage(t,kt.domain)}),clearTimeout(t),St.init(),_t._done=St.init=null,xt.resolve()},e.setAttribute("src",kt.proxy)):(bt.setProxy(function(t){return window.widgeticReceiver({origin:window.location.origin,data:t})}),St.init(),_t._done=St.init=null,xt.resolve())),xt.promise},_t.connect=function(){return"function"==typeof _t._done?_t._done():void 0},_t.style=function(){var t;return document.getElementsByTagName("head")[0].appendChild(t=document.createElement("style")),t.textContent="#widgetic-root{position:absolute;top:-1000px;left:-1000px;width:0px;height:0px;visibility:hidden;z-index:-1} #widgetic-root iframe{width:0px;height:0px} iframe.widgetic-composition {border: none;width: 100%;height: 100%;} iframe.widgetic-editor {width: 490px; height: 565px; border:none;overflow:hidden} .wdgtc-wrap{overflow: hidden}"};var Tt,At,Ct,Mt,qt=_t;Tt=v,Ct=m,Mt=window,(At=function(t){var e,n,i,r,o,s,a,u,c,l;if((!Mt.parent||Mt.parent!==Mt||Mt.opener)&&(n=(a=Ct(t)).hash,i=a.hashKey,u=a.queryKey,s="proxy"===n,o=i.hasOwnProperty("popup"),(r=i.hasOwnProperty("oauth")||i.access_token)||s||o))return r&&(l="o"),s&&(l="i"),o&&(l="p"),e=n?i:u,c=r?Mt.location.origin:Tt.lo,(Mt.opener||Mt.parent).postMessage(JSON.stringify({d:e,t:l}),c)}).parse=Ct;var It,Wt,Nt,Pt,Rt,jt,zt,Ut,Ht,Lt,Dt,Jt=At,Bt=function(t){var e;if("interactive"!==(e=document.readyState)&&"complete"!==e)return document.addEventListener("DOMContentLoaded",t);t()},Vt=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},Gt=[].slice;for(Ut in Rt=v,zt=D,Lt=R.queue,Wt=Ot,Nt=wt,Pt={},Dt=["click","dblclick","mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseover","mouseout","wheel","keydown","keyup","keypress"],(It=function(t,e,n){var i,r,o,s,a,u,c,l;if(null==n&&(n={}),"string"==typeof e&&(r=e),s=r?n:e,null==r&&(r=s.composition),Widgetic.debug.timestamp("Widgetic.UI.Composition:constructor"),this._queue=Lt(1),this._queue.defer((l=this,function(t){return l._startQueue=t})),this._callbacks={},r?c=Rt.composition.replace("{id}",r):(c=Rt.widget.replace("{id}",s.widget_id),null!=s.id&&(c+="#comp="+s.id),s.skin&&this.setSkin(s.skin),s.content&&this.setContent(s.content)),a=[],i=Nt.getClientId(),o="connected"===Wt.getStatus().status,null!=s.widget_id&&!i&&!o)throw new Error("Widgetic should be initialized before using the UI.Composition!");return(u=s.token||Wt.accessToken())&&a.push("access_token="+u),i&&a.push("client_id="+i),s.wait_editor_init&&a.push("wait"),s.branding&&a.push("branding"),s.brand_pos&&a.push("bp="+s.brand_pos),s.edit_mode&&a.push("edit_mode"),s.resize&&a.push("resize="+s.resize),s.autoscale&&a.push("autoscale="+s.autoscale),a.length&&(c=c.replace(/(\?)|((.)(\#)|($))/,"?"+(a.length?a.join("&"):void 0)+"&$2")),this.id=zt(),(Pt[this.id]=this)._iframe=document.createElement("iframe"),this._iframe.setAttribute("class","widgetic-composition"),this._iframe.setAttribute("name",this.id),this._iframe.setAttribute("allowfullscreen",!0),this._iframe.setAttribute("scrolling","no"),t.appendChild(this._iframe),this._iframe.setAttribute("src",c),0===this._iframe.parentElement.parentElement.className.indexOf("wdgtc-wrap")&&(this._responsiveWrapper=this._iframe.parentElement.parentElement),this._autoscale="off"!==s.autoscale,this}).prototype.updateSize=function(t,e){if(this._autoscale)return this._responsiveWrapper&&e&&(this._responsiveWrapper.style.minHeight=e+"px"),e&&(this._iframe.style.height=e+"px"),t?this._iframe.setAttribute("width",t):void 0},It.prototype.close=function(){return Pt[this.id]=null,this._iframe.parentNode.removeChild(this._iframe),this.off(),this},It.prototype.queue=function(e){return this._queue.defer(function(t){return e(),t()})},It.prototype._ready=function(){return Widgetic.debug.timestamp("Widgetic.UI.Composition:_ready"),this._startQueue()},It.prototype._sendMessage=function(e){var n;return this._queue.defer((n=this,function(t){return n._iframe.contentWindow.postMessage(JSON.stringify(e),"*"),t()})),this},It.prototype.on=function(t,e){var n,i,r,o,s;for(0<=Vt.call(Dt,t)&&this._sendMessage({t:"re",d:t}),i=t.split(" "),n=this.hasOwnProperty("_callbacks")&&this._callbacks,r=0,o=i.length;r<o;r++)n[s=i[r]]||(n[s]=[]),n[s].push(e);return this},It.prototype.off=function(t,e){var n,i,r,o,s,a,u,c,l;if(0===arguments.length)return this._callbacks={},this;if(!t)return this;for(r=0,s=(n=t.split(" ")).length;r<s;r++)if(c=n[r],u=null!=(l=this._callbacks)?l[c]:void 0)if(e){for(i=o=0,a=u.length;o<a;i=++o)if(u[i]===e){(u=u.slice()).splice(i,1),this._callbacks[c]=u;break}}else delete this._callbacks[c];return this},It.prototype._trigger=function(){var t,e,n,i,r,o;if((e=(t=1<=arguments.length?Gt.call(arguments,0):[]).shift())===It.RELAY&&(e=t[0].type),r=this.hasOwnProperty("_callbacks")&&(null!=(o=this._callbacks)?o[e]:void 0)){for(n=0,i=r.length;n<i&&!1!==r[n].apply(this,t);n++);return!0}},jt=function(t,e){return It.prototype[t]=function(t){return this._sendMessage({t:e,d:t})}},Ht={clearContent:"cx",setContent:"sc",addContent:"ac",changeContent:"cc",removeContent:"rc",setSkin:"ss",changeSkin:"cs",removeSkin:"rs",saveSkin:"sS",save:"s",saveDraft:"sd",setName:"sn"})jt(Ut,Ht[Ut]);It.connect=function(t){var e;return null!=(e=Pt[t.d])?e._ready():void 0},It.event=function(t){return Pt[t.id]._trigger(t.e,t.d)},It.updateSize=function(t){var e;return null!=(e=Pt[t.id])?e.updateSize(t.d.width,t.d.height):void 0},It.RELAY="r",It.EMBED_MODE=1,It.EDIT_MODE=2,It.getComp=function(t){return Pt[t]};var Qt,Kt,$t,Xt,Ft,Yt,Zt,te,ee=It,ne=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},ie=[].slice;$t=v,Zt=R.queue,Yt=B,Ft=D,Kt=Ot,Xt={},te=["click","dblclick","mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseover","mouseout","wheel","keydown","keyup","keypress"],(Qt=function(t,e,n){var i,r;return this.composition=e,Widgetic.debug.timestamp("Widgetic.UI.Editor:constructor"),this._queue=Zt(1),this._queue.defer((r=this,function(t){return r._startQueue=t})),this._callbacks={},Yt.subscribe("api/token/update",this._updateToken.bind(this)),this._updateToken(),n&&this.setEditorOptions(n),this.composition.queue(this._compReady.bind(this)),Xt[this.composition.id]=this,i=$t.editor+"#"+this.composition.id,(null!=n?n.asPopup:void 0)?(this.frame=t)?this.frame.location.href=i:this.frame=window.open(i,Ft(),"height="+(n.h||565)+",width="+(n.w||490)):(this._iframe=document.createElement("iframe"),this._iframe.setAttribute("class","widgetic-editor"),this._iframe.setAttribute("name",Ft()),t.appendChild(this._iframe),this._iframe.setAttribute("src",i),this.frame=this._iframe.contentWindow),this}).prototype.close=function(){return Xt[this.composition.id]=null,this._iframe?this._iframe.parentNode.removeChild(this._iframe):this.frame.close(),this},Qt.prototype.goTo=function(t){return this._sendMessage({t:"step",d:t}),this},Qt.prototype.setEditorOptions=function(t){return this.options=null!=t?t:this.options,this._sendMessage({t:"opts",d:this.options}),this},Qt.prototype.addContent=function(t){return this._sendMessage({t:"cont",d:t}),this},Qt.prototype.save=function(){return this.goTo("done"),this},Qt.prototype.on=function(t,e){var n,i,r,o,s;for(0<=ne.call(te,t)&&this._sendMessage({t:"ree",d:t}),i=t.split(" "),n=this.hasOwnProperty("_callbacks")&&this._callbacks,r=0,o=i.length;r<o;r++)n[s=i[r]]||(n[s]=[]),n[s].push(e);return this},Qt.prototype.off=function(t,e){var n,i,r,o,s,a,u,c,l;if(0===arguments.length)return this._callbacks={},this;if(!t)return this;for(r=0,s=(n=t.split(" ")).length;r<s;r++)if(c=n[r],u=null!=(l=this._callbacks)?l[c]:void 0)if(e){for(i=o=0,a=u.length;o<a;i=++o)if(u[i]===e){(u=u.slice()).splice(i,1),this._callbacks[c]=u;break}}else delete this._callbacks[c];return this},Qt.prototype._trigger=function(){var t,e,n,i,r,o;if((e=(t=1<=arguments.length?ie.call(arguments,0):[]).shift())===Qt.RELAY&&(e=t[0].type),r=this.hasOwnProperty("_callbacks")&&(null!=(o=this._callbacks)?o[e]:void 0)){for(n=0,i=r.length;n<i&&!1!==r[n].apply(this,t);n++);return!0}},Qt.prototype._sendMessage=function(e){return this._queue.defer((n=this,function(t){return n.frame.postMessage(JSON.stringify(e),"*"),t()}));var n},Qt.prototype._ready=function(){return this.ready=!0,Widgetic.debug.timestamp("Widgetic.UI.Editor:_ready"),this._startQueue()},Qt.prototype._compReady=function(){return this.compReady=!0,Widgetic.debug.timestamp("Widgetic.UI.Editor:_compReady"),this._sendMessage({t:"ready"})},Qt.prototype._updateToken=function(){return Widgetic.debug.timestamp("Widgetic.UI.Editor:_updateToken"),this._sendMessage({t:"token",d:Kt.accessToken()})},Qt.prototype._onConnect=function(){var e;return this.ready&&this.compReady&&this._queue.defer((e=this,function(t){return e.setEditorOptions(),e._compReady(),t()})),this._ready()},Qt.connect=function(t){return Xt[t.id]._onConnect()},Qt.event=function(t){return Xt[t.id]._trigger(t.e,t.d)},Qt.RELAY="er";var re,oe,se,ae,ue,ce=Qt,le=[].slice;oe=v,ue=R.queue,ae=B,se=D,re=Ot;var de,pe,he,fe,me,ye,ge,ve,we,_e,be,ke,Ee,xe,Se,Oe,Te,Ae,Ce,Me=function(){function n(t){var e,n,i;this.id=se(),this.name=t.name||this.id,Widgetic.debug.timestamp("Widgetic.UI.Plugin:constructor"),this._queue=ue(1),this._queue.defer((i=this,function(t){return i._startQueue=t})),ae.subscribe("api/token/update",this._updateToken.bind(this)),this._updateToken(),t&&this.setOptions(t),n=oe.plugin,(this.frame=(null!=(e=t.holder)?e.document:void 0)||t.holder)?(this._iframe=document.createElement("iframe"),this._iframe.setAttribute("class","wdtc-plugin"),this._iframe.setAttribute("name",this.name),this.frame.appendChild(this._iframe),this._iframe.setAttribute("src",n),this.frame=this._iframe.contentWindow):this.frame=window.open(n,this.name,"height="+(t.h||760)+",width="+(t.w||1270))}return n.instances={},n.connect=function(t){var e;return(e=n.instances[t.id])._updateToken(),e._ready(),e._sendMessage({t:"ready"})},n.event=function(t){return n.instances[t.id]._trigger(t.e,t.d)},n.create=function(t){var e;return null==t&&(t={}),e=new this(t),this.instances[e.id]=e},n.prototype.close=function(){return this.constructor.instances[this.id]=null,delete this.constructor.instances[this.id],this._iframe?this._iframe.parentNode.removeChild(this._iframe):this.frame.close(),this},n.prototype.setOptions=function(t){return this.options=null!=t?t:this.options,this._sendMessage({t:"opts",d:this.options}),this},n.prototype.addEditorContent=function(t){return this._sendMessage({t:"econt",d:t}),this},n.prototype.on=function(t,e){var n,i,r,o,s;for(i=t.split(" "),n=this.hasOwnProperty("_callbacks")&&(this._callbacks||(this._callbacks={})),r=0,o=i.length;r<o;r++)n[s=i[r]]||(n[s]=[]),n[s].push(e);return this},n.prototype.off=function(t,e){var n,i,r,o,s,a,u,c,l;if(0===arguments.length)return this._callbacks={},this;if(!t)return this;for(r=0,s=(n=t.split(" ")).length;r<s;r++)if(c=n[r],u=null!=(l=this._callbacks)?l[c]:void 0)if(e){for(i=o=0,a=u.length;o<a;i=++o)if(u[i]===e){(u=u.slice()).splice(i,1),this._callbacks[c]=u;break}}else delete this._callbacks[c];return this},n.prototype._trigger=function(){var t,e,n,i,r,o;if(e=(t=1<=arguments.length?le.call(arguments,0):[]).shift(),r=this.hasOwnProperty("_callbacks")&&(null!=(o=this._callbacks)?o[e]:void 0)){for(n=0,i=r.length;n<i&&!1!==r[n].apply(this,t);n++);return!0}},n.prototype._sendMessage=function(e){return this._queue.defer((n=this,function(t){return n.frame.postMessage(JSON.stringify(e),"*"),t()}));var n},n.prototype._ready=function(){return Widgetic.debug.timestamp("Widgetic.UI.Plugin:_ready"),this._startQueue()},n.prototype._updateToken=function(){return Widgetic.debug.timestamp("Widgetic.UI.Plugin:_updateToken"),this._sendMessage({t:"token",d:re.accessToken()})},n}(),qe=function(t,e){return function(){return t.apply(e,arguments)}};fe=J,Ee=D,we=b,ye=v,_e=function(t){var e,n,i,r;for(null==t&&(t={}),n=0,r=arguments.length;n<r;n++)if(e=arguments[n])for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},ge=function(t,e){var n;return null==e&&(e=10),n=null,function(){return clearTimeout(n),n=setTimeout(t,e)}},be=function(t){var e;return{top:(e=t.getBoundingClientRect()).top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},xe=function(t,e,n){var i;return(i=this.document.createElement("link")).setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("charset","utf-8"),i.setAttribute("href",t),n&&(we.on(i,"load",n),we.on(i,"error",n)),e.appendChild(i)},Se=function(t,e,n,i){var r,o,s,a,u,c,l,d;for(null==e&&(e=[]),null==n&&(n=[]),r=[].concat(e,n),l=r.length,d=!(a=0),u=function(t){if("load"===t.type||-1<n.indexOf(t.target.href)?++a:console.log(new Error('Popup stylesheet "'+t.target.href+'" did not load!')),a===l||!d)return i()},o=0,s=r.length;o<s;o++)c=r[o],xe.call(this,c,t,u);return setTimeout(i,5e3),setTimeout(function(){return d=!1},5e3)},ve={},Oe=function(t){var e;return e=Ee(),{promise:(ve[e]=fe.defer()).promise,message:{id:e,t:"p",d:t}}},he=function(t,e){return ve[t.id].resolve(e)},Ae=function(t,e){return null==e&&(e=window.parent),"string"==typeof e&&(e=window.frames[e]),e.postMessage(JSON.stringify(t),"*")},Te=function(t,e,n){return t.d.original=t.d.event,t.d.event="done",t.d.response=n,Ae(t,e.source)},Ce=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},ke=function(e){try{return e.innerHTML}catch(t){return e.styleSheet.cssText}},me=function(t){return t?{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}:{}},pe=function(t){var e;return{popup:me(t.getBoundingClientRect()),widget:me(null!=(e=t._parentFrame)?e.getBoundingClientRect():void 0)}},de=function(){function r(t){var e,n,i;for(e in this._prepare=qe(this._prepare,this),this._saveInfo=qe(this._saveInfo,this),this.position=qe(this.position,this),this._hide=qe(this._hide,this),this.resize=qe(this.resize,this),this.options=t,n=this.options)i=n[e],this[e]=i;null==this.anchor&&(this.anchor=document.body),this.anchor.jquery&&(this.anchor=this.anchor[0]),this.dimensions={width:0,height:0},this.info={},this.visible=!1,this._callbacks={}}return r.styles={popup:"body { display:inline-block; margin:0; width:auto !important; height:auto !important; overflow:hidden; background:transparent !important } #loader { width: 250px; height: 250px; border: 1px solid #d5d5d5; background: white; } .sk-three-bounce { margin: 115px auto; width: 40px; text-align: center; } .sk-three-bounce .sk-child { width: 10px; height: 10px; background-color: #262424; border-radius: 100%; display: inline-block; -webkit-animation: sk-three-bounce 1.4s ease-in-out 0s infinite both; animation: sk-three-bounce 1.4s ease-in-out 0s infinite both; } .sk-three-bounce .sk-bounce1 { -webkit-animation-delay: -0.32s; animation-delay: -0.32s; } .sk-three-bounce .sk-bounce2 { -webkit-animation-delay: -0.16s; animation-delay: -0.16s; } @-webkit-keyframes sk-three-bounce { 0%, 80%, 100% { -webkit-transform: scale(0); transform: scale(0); } 40% { -webkit-transform: scale(1); transform: scale(1); } } @keyframes sk-three-bounce { 0%, 80%, 100% { -webkit-transform: scale(0); transform: scale(0); } 40% { -webkit-transform: scale(1); transform: scale(1); } }",overlay:"html, body { width:100%; height:100%; } body { display:block; margin:0; overflow:hidden; }"},r.popups={},r.callbacks={},r.iframes={},r.new=function(t){var e;return null==t&&(t={}),e=t.name||Ee(),t.name=e,this.popups[e]=new r(t),this.popups[e].init()},r.receiver=function(t,e){var n;return n=t.d.event,"function"==typeof r[n="on"+Ce(n)]?r[n](t,e):void 0},r.onCreate=function(t,e){var n,i,r,o;return i=t.d.name,(n=document.createElement("iframe")).setAttribute("class","wdgtc-popup"),n.setAttribute("name",i),n.isOverlay="overlay"===t.d.type,n.setAttribute("style","border: 0; width: 0; height: 0; position: absolute; top: 0; left: -10000px; z-index: 2147483646;"),n.isOverlay&&(n.style.zIndex=2147483647),n.isVisible=!1,n._parent=e.source,n._parentFrame=document.getElementsByName(t.d.source)[0],document.querySelectorAll("body")[0].appendChild(n),n.setAttribute("src",ye.popup+"&name="+encodeURIComponent(i)+"&event=ready"),(this.iframes[i]=n).doPosition=(r=this,function(){var t;return r.doPosition(n,null),t={t:"p",d:{event:"reposition",name:i,response:{info:pe(n)}}},Ae(t,n._parent)}),n.doPosition=ge(n.doPosition),we.on(window,"resize",n.doPosition),we.on(window,"scroll",n.doPosition),this.callbacks[i]=(o=this,function(){return delete o.callbacks[i],Te(t,e)})},r.onReady=function(t){var e,n;return"function"==typeof(e=this.callbacks)[n=t.d.name]?e[n]():void 0},r.onDone=function(t,e){var n;return n=t.d.original,this[n="on"+Ce(n)+"Done"]?this[n](t,e):he(t,t.d.response)},r.onCreateDone=function(t,e){var n,i;if(!(n=(i=e.source).frames[t.d.name]))for(;i!==e.source.top;){i=i.parent;try{if(n=i.frames[t.d.name])break}catch(t){}}return he(t,n)},r.onReposition=function(t,e){return this.popups[t.d.name].info=t.d.response.info,this.popups[t.d.name].trigger("reposition")},r.onManage=function(t,e){var n,i,r,o;return r=t.d.name,n=this.iframes[r],(o=("function"==typeof this[i="do"+Ce(t.d.do)]?this[i](n,t.d):void 0)||{}).info=pe(n),Te(t,e,o)},r.doResize=function(t,e){return t.isOverlay||(t.style.width=e.dimensions.width+"px",t.style.height=e.dimensions.height+"px",e.dimensions.shadow&&(t.style.boxShadow=e.dimensions.shadow),e.dimensions.borderRadius&&(t.style.borderRadius=e.dimensions.borderRadius)),e.dimensions},r.doHide=function(t,e){t.isVisible=!1,t.style.display="none"},r.doShow=function(t,e){t.isVisible=!0,t.style.display="block",t.style.position=t.isOverlay?"fixed":"absolute"},r.doPosition=function(t,e){var n,i,r,o,s,a,u;if(t.isVisible||(t.style.display="none"),t.isOverlay)return t.style.position="fixed",t.style.width="100%",t.style.height="100%",t.style.top=0,t.style.left=0,t.style.bottom=0,void(t.style.right=0);if(e)t.positionOptions=e;else{if(!t.positionOptions)return;e=t.positionOptions}o=e.offset,s=e.dimensions,n=_e({},e.anchor),(i=document.querySelector('iframe[name="'+n.parent+'"]'))&&(u=(a=be(i)).top,r=a.left,n.top+=u,n.left+=r),r=window.innerWidth+document.body.scrollLeft-(n.left+s.width+o.rightMargin+o.leftOffset),r=Math.max(0,n.left+o.leftOffset+Math.min(0,r)),(u=0<=(u=window.innerHeight+document.body.scrollTop-(n.top+n.height+s.height+o.bottomMargin))?n.top+n.height+o.topOffset:n.top-s.height-o.bottomMargin)<0&&(u=n.top+n.height+o.topOffset),t.style.top=u+"px",t.style.left=r+"px"},r.doRelease=function(t,e){var n;t.parentNode.removeChild(t),we.off(window,"resize",t.doPosition),we.off(window,"scroll",t.doPosition),n=e.name,delete this.iframes[n]},r.hideAll=function(){var n,i;return function(){var t,e;for(n in e=[],t=r.iframes)i=t[n],e.push(i);return e}().filter(function(t){return t.isVisible}).map(function(t){return r.doHide(t),Ae({t:"p",d:{event:"hide",name:t.name}},t._parent)})},r.onHide=function(t,e){return this.popups[t.d.name]._hide()},r.prototype.type="popup",r.prototype.topOffset=0,r.prototype.leftOffset=0,r.prototype.rightMargin=15,r.prototype.bottomMargin=15,r.prototype.copyStyles=!0,r.prototype.on=function(t,e){return this._callbacks[t]=this._callbacks[t]||[],this._callbacks[t].push(e)},r.prototype.off=function(t){return t?this._callbacks[t]=[]:this._callbacks={}},r.prototype.trigger=function(t,e){var n,i,r,o,s;if(this._callbacks[t]){for(s=[],i=0,r=(o=this._callbacks[t]).length;i<r;i++)n=o[i],s.push(n(e));return s}},r.prototype.init=function(){return this._sendEvent("create",{type:this.type,source:window.name}).then(this._prepare)},r.prototype.append=function(t){return t.jquery&&(t=t[0]),this.content.innerHTML="",this.content.appendChild(t),this.resize()},r.prototype.style=function(e,t){var n;null==t&&(t=!1),this.styleElement||(this.styleElement=document.createElement("style"),this.head.appendChild(this.styleElement)),null==this.preservedStyles&&(this.preservedStyles="");try{this.styleElement.innerHTML=this.preservedStyles+e}catch(t){this.styleElement.styleSheet.cssText=this.preservedStyles+e}return t&&(this.preservedStyles+=e),(n=fe.defer()).resolve(this.preservedStyles+e),n.promise},r.prototype.resize=function(){return this.dimensions={width:this.document.body.offsetWidth,height:this.document.body.offsetHeight},this._sendEvent("manage",{do:"resize",dimensions:this.dimensions}).then(this._saveInfo)},r.prototype.hide=function(){return this._sendEvent("manage",{do:"hide"}).then(this._saveInfo).then(this._hide)},r.prototype._hide=function(){return this.visible=!1},r.prototype.show=function(){return this.position().then((e=this,function(){return e._sendEvent("manage",{do:"show"})})).then(this._saveInfo).then((t=this,function(){return t.visible=!0}));var t,e},r.prototype.position=function(){var t,e;return e={topOffset:this.topOffset,leftOffset:this.leftOffset,bottomMargin:this.bottomMargin,rightMargin:this.rightMargin},(t=be(this.anchor)).parent=window.name,t.width=parseInt(this.anchor.offsetWidth,10),t.height=parseInt(this.anchor.offsetHeight,10),this._sendEvent("manage",{do:"position",anchor:t,dimensions:this.dimensions,offset:e}).then(this._saveInfo)},r.prototype.release=function(){var t,e,n;return e=(t=fe.defer()).promise,this.document.location.reload(),setTimeout(t.resolve,1e3),e.then((n=this,function(){return n._sendEvent("manage",{do:"release"})}))},r.prototype._saveInfo=function(t){return this.info=t.info,t},r.prototype._sendEvent=function(t,e){var n,i,r,o;return n={name:this.name,event:t},n=_e(n,e),r=(o=Oe(n)).promise,i=o.message,Ae(i,this.targetWindow),r},r.prototype._prepare=function(t){var e,n,i;return this.window=t,this.document=this.window.document,this.head=this.document.head,this.loader=document.createElement("div"),this.loader.id="loader",this.loader.style.display="none",this.loader.innerHTML='<div class="sk-three-bounce"> <div class="sk-child sk-bounce1"></div> <div class="sk-child sk-bounce2"></div> <div class="sk-child sk-bounce3"></div> </div>',this.document.body.appendChild(this.loader),this.content=document.createElement("div"),this.document.body.appendChild(this.content),n='<style type="text/css">'+r.styles[this.type]+"</style>",this.head.insertAdjacentHTML("beforeend",n),n=document.querySelectorAll("[data-widget-style=true]"),n=(n=Array.prototype.map.call(n,ke)).reduce(function(t,e){return t+e},""),this.style(n,!0),e=document.querySelectorAll('link[rel="stylesheet"]'),e=Array.prototype.map.call(e,function(t){return t.href}),(this.css||e.length)&&(this.loader.style.display="block",this.content.style.display="none",Se.call(this,this.head,this.css,e,(i=this,function(){return i.loader.style.display="none",i.content.style.display="block",i.resize().then(function(){return i.position()}).then(function(){return i})}))),this},r}(),we.on(window.document,"click",de.hideAll);var Ie,We,Ne,Pe,Re,je,ze,Ue,He,Le,De=de;Ue=Bt,Ie="allow-scale-down",Re=function(t){var e,n,i;return e=t.children[0],i=t.parentNode,t.removeChild(e),(n=document.createDocumentFragment()).insertBefore(e,null),i.insertBefore(n,t),i.removeChild(t),e},Ne=function(t){return t.children[0]},je=function(t,e,n,i){var r;return r=e?"display:inline-block;vertical-align:middle;":"",i?'<div style="width:100%;'+r+(n.wrapStyle||"")+'"><div style="position:relative; padding: 0;'+(n.holdStyle||"")+'">$$$</div></div>':'<div class="wdgtc-wrap" data-wdgtc-id="'+t+'" style="width:100%;'+r+(n.wrapStyle||"")+'"> <div class="wdgtc-holder" style="position:relative; padding: 0;'+(n.holdStyle||"")+'"> </div> </div>'},ze={fixed:function(t,e){return{wrapStyle:"max-width: "+t+"px; min-width: "+t+"px;",holdStyle:"padding-top: "+100*e/t+"%;"}},"allow-scale-down":function(t,e){return{wrapStyle:"max-width: "+t+"px;",holdStyle:"padding-top: "+100*e/t+"%;"}},"fixed-height":function(t,e){return{holdStyle:"height: "+e+"px; padding-top: 0;"}},"fill-width":function(t,e){return{holdStyle:"padding-top: "+100*e/t+"%;"}},fill:function(t,e){return{wrapStyle:"height: 100%",holdStyle:"height: 100%;min-height:"+e+"px"}}},(Pe=function(){return Ue(function(){var t,e,n,i;for(n=0,i=(t=document.querySelectorAll(".widgetic-composition")).length;n<i;n++)e=t[n],We(e)})}).wrapperHtml=function(t,e){var n;return null==e&&(e=!1),n=ze[t.resize](t.width,t.height),je(t.composition,t.inline,n,e)},Pe.iframeStyle="position:absolute;top:0;left:0;width:100%;height:100%;",We=function(t){var e,n,i;if((i={composition:t.getAttribute("data-id"),width:t.getAttribute("data-width")||10,height:t.getAttribute("data-height")||10,resize:t.getAttribute("data-resize")||Ie,brand_pos:t.getAttribute("data-brand")||"bottom-right",branding:t.hasAttribute("data-branding"),inline:t.hasAttribute("data-inline"),autoscale:t.getAttribute("data-autoscale")||"on"}).composition)return ze[i.resize]||(i.resize=Ie),t.insertAdjacentHTML("afterbegin",Pe.wrapperHtml(i)),t=Re(t),n=Ne(t),(e=new Widgetic.UI.composition(n,i.composition,i))._iframe.setAttribute("style",Pe.iframeStyle),e._iframe.style.visibility="hidden",e._iframe.onload=function(){return e._iframe.style.visibility="visible"}};var Je,Be={Composition:He=ee,Editor:Le=ce,composition:function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(He,arguments,function(){})},editor:function(){return function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(Le,arguments,function(){})},parse:Pe,popup:De,plugin:Me};try{Je=window.require("spine/utils/timestamp")}catch(t){Je=function(){}}var Ve,Ge,Qe,Ke,$e,Xe,Fe,Ye,Ze,tn,en,nn,rn,on,sn,an,un,cn,ln,dn,pn,hn,fn,mn,yn,gn=Je;tn=v,Qe=qt,Xe=Ot,Fe=wt,en=Jt,nn=b,hn=Bt,Ve=ee,Ge=ce,Ke=Be,Ye=J,fn=window,mn=fn.parent,rn=!1,pn=function(t){var e;return t.d.source&&(e=document.querySelector('[name="'+t.d.source+'"]')),e||(e=document.querySelector('[name="'+t.id+'"]')),e.parentElement.style.height=t.d.height+"px"},dn={a:Xe.request,e:Xe.response,i:Qe.connect,o:Fe.connect,u:Ve.connect,ce:Ve.event,w:Ge.connect,ee:Ge.event,p:Ke.popup.receiver,r:Fe.retry,v:Ke.plugin.connect,ve:Ke.plugin.event,su:pn},an=(an=tn.lo.replace(/(http|https)\:/,"")+"|"+tn.domain.replace(/(http|https)\:/,"")).replace(/\./g,"\\."),an=new RegExp(an),un=function(e){var n;if(n=Ye.defer(),"string"!=typeof e)n.reject();else try{n.resolve(JSON.parse(e))}catch(t){n.reject(new Error("error parsing JSON: "+e))}return n.promise},ln=function(t,e){var n,i,r;if(t.source!==mn){try{r=t.source.name}catch(t){}return e.d.origSource=e.d.source||r,e.d.source=fn.name,null!=(i=e.d.anchor)&&(i.parent=fn.name),mn.postMessage(JSON.stringify(e),"*")}(n=Ve.getComp(e.d.origSource))&&(e.d.source=e.d.origSource,n._iframe.contentWindow.postMessage(JSON.stringify(e),"*"))},Ze=function(t,e){var n,i,r;try{r=t.source.name}catch(t){}if(("p"===(i=e.t)||"su"===i)&&(t.source===mn||Ve.getComp(e.d.source||r)))return ln(t,e);if(null==(n=dn[e.t]))throw new Error("No receiver for "+e.t+"!");return n(e,t)},sn=function(t){if(an.test(t.origin)||t.source===mn)return un(t.data).then(Ze.bind(null,t)).fail(function(t){})},$e=function(){return"function"==typeof fn.WidgeticAsyncInit&&fn.WidgeticAsyncInit(),nn.on(fn,"message",sn),en(fn.location.href),Qe.style(),setTimeout(Ke.parse)},cn=Ye.defer(),on=function(){var t,e;return rn||(e=this,t=function(){return(e.root=new Qe).createProxy().then(function(){return cn.resolve()}).fail(function(t){return cn.reject(t)}),rn=!0},document.getElementsByTagName("body")[0]?t():hn(t)),cn.promise},$e.prototype.init=function(t,e){return on.call(this),t&&e&&Fe.setAuthOptions(t,e),this},$e.prototype.api=function(){var t;return t=arguments,on.call(this).then(function(){return Xe.apply(this,t)})},($e.prototype.auth=function(){return Fe.apply(this,arguments)}).register=function(){return Fe.register.apply(this,arguments)},$e.prototype.auth.status=function(){return Xe.getStatus.apply(this,arguments)},$e.prototype.auth.token=function(){return Xe.accessToken.apply(this,arguments)},$e.prototype.auth.disconnect=function(){return Xe.disconnect.apply(this,arguments)},$e.prototype.JSON=JSON,$e.prototype.Queue=Xe.queue,$e.prototype.Aye=J,$e.prototype.Event=nn,$e.prototype.GUID=D,$e.prototype.pubsub=B,$e.prototype.require=function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")},$e.prototype.UI=Ke,$e.prototype.EVENTS={COMPOSITION_SAVED:"save",SKIN_SAVED:"skin-save"},$e.prototype.VERSION="@VERSION",$e.prototype.parse=en.parse,$e.prototype.uxhr=k,$e.prototype.debug={timestamp:gn},yn=$e,window.Widgetic||(window.Widgetic=new yn);var vn=window.Widgetic;return window.Blogvio=window.Widgetic,vn});

}
/*
     FILE ARCHIVED ON 21:47:34 May 28, 2022 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:20:56 Jan 30, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 920.214
  exclusion.robots: 0.076
  exclusion.robots.policy: 0.068
  cdx.remote: 0.066
  esindex: 0.008
  LoadShardBlock: 809.272 (3)
  PetaboxLoader3.datanode: 564.938 (5)
  CDXLines.iter: 26.898 (3)
  load_resource: 127.524 (2)
  PetaboxLoader3.resolve: 57.705 (2)
*/